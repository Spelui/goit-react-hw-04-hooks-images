(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{31:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),s=n.n(c),o=(n(31),n(25)),i=n(15),u=n(12),l=n(4),b=n(5),j=n.n(b),f=n(7),m=n(26),h=(n(33),n(2)),p=n.n(h),d=(n(36),n(1)),O=function(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1];return Object(d.jsx)("header",{className:"searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(d.jsxs)("button",{type:"submit",className:"SearchForm-button",children:["\ud83d\udd0d",Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})]}),Object(d.jsx)("input",{onChange:function(e){return function(e){s(e)}(e.target.value)},value:c,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};O.propsTypes={onSubmit:p.a.func};var g=O,v=(n(38),function(e){var t=e.children;return Object(d.jsx)("ul",{className:"ImageGallery",children:t})}),x=n(14),S=n.n(x),w="24484342-5d490b786e593542a839fc86b";S.a.defaults.baseURL="https://pixabay.com/api/";var y=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,r,c,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,a=new URLSearchParams({key:w,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:12,page:n}),e.prev=2,e.next=5,S.a.get("?"+a.toString());case 5:return r=e.sent,c=r.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),k=y,N=(n(57),function(e){var t=e.image,n=e.onClick;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("li",{className:"ImageGalleryItem",onClick:n,children:Object(d.jsx)("img",{className:"ImageGalleryItem-image",src:t.webformatURL,alt:t.tags,"data-large":t.largeImageURL})},t.id)})}),C=(n(58),function(e){var t=e.onClickBtn;return Object(d.jsx)("div",{className:"coverBtn",children:Object(d.jsx)("button",{onClick:function(){return t()},className:"btn",type:"button",children:"Load more"})})}),F=(n(59),n(0).useEffect),I=function(e){var t=e.onClose,n=e.largeImg,a=e.alt,r=function(e){"Escape"===e.code&&t()};return F((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[r]),Object(d.jsx)("div",{className:"overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:"modal",children:Object(d.jsx)("img",{src:n,alt:a})})})},L=(n(60),n(24)),E=n.n(L),B={position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},R=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),b=s[0],h=s[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),x=O[0],S=O[1],w=Object(a.useState)(!1),y=Object(l.a)(w,2),F=y[0],L=y[1],R=Object(a.useState)(""),T=Object(l.a)(R,2),U=T[0],G=T[1],D=Object(a.useState)(""),H=Object(l.a)(D,2),J=H[0],P=H[1],_=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,k(x,n);case 4:if((t=e.sent).totalHits){e.next=7;break}return e.abrupt("return",f.b.error("Please write valid value"));case 7:return h((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.hits))})),b.length&&1===n&&f.b.success("We found ".concat(t.totalHits," images")),e.abrupt("return",t.hits);case 12:e.prev=12,e.t0=e.catch(1),f.b.error("".concat(e.t0.message));case 15:return e.prev=15,L(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_()}),[x,n]);var q=function(e){e.currentTarget!==e.target&&(G(e.target.dataset.large),P(e.target.alt))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g,{onSubmit:function(e){S(e),h([]),r(1)}}),Object(d.jsxs)("main",{children:[F&&Object(d.jsx)(E.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,style:Object(o.a)({},B),timeout:1e3}),Object(d.jsx)(v,{children:b.map((function(e){return Object(d.jsx)(N,{image:e,onClick:q},Object(m.a)())}))}),b.length>11&&Object(d.jsx)(C,{onClickBtn:function(){r((function(e){return e+1}))}}),Object(d.jsx)(f.a,{})]}),U&&Object(d.jsx)(I,{onClose:function(){G(""),P("")},largeImg:U,alt:J})]})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.92303b80.chunk.js.map